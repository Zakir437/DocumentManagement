(function(){$(document).ready(function(){$("#divCabinetTreeView").kendoTreeView({loadOnDemand:!0,dataSource:new kendo.data.HierarchicalDataSource({transport:{read:{url:"/Document/Cabinets"}},schema:{model:{id:"id",children:"items"}}}),dataTextField:"name",dataValueField:"id"})});$("#btnTreeRefresh").click(function(){$("#divCabinetTreeView").data("kendoTreeView").dataSource.read()});$("#btnTreeCancel").click(function(){$("#divTreeview").data("kendoWindow").close()});$("#btnTreeOk").click(function(){var t=$("#divCabinetTreeView").data("kendoTreeView"),i=t.select(),n=t.dataItem(i);n?($(this).prop("disabled",!0),$.ajax({url:"/Document/FileCopy",type:"Post",data:{destFolderId:n.id,fType:n.type,type:$("#Type").val(),encryptedId:$("#EncryptId").val(),isCopy:$("#IsCopy").val(),fileId:$("#FileId").val(),folderId:$("#FolderId").val(),documents:$("#Documents").val()},success:function(n){n==="error"?notification.show({message:"File update was unsuccessful."},"error"):n==="same"?notification.show({message:"This file is already exist."},"error"):n==="NotPossible"?$("#IsCopy").val()==="true"?notification.show({message:"This folder copy to selected folder not possible. Please try another folder."},"error"):notification.show({message:"This folder move to selected folder not possible. Please try another folder."},"error"):($("#IsCopy").val()==="true"?notification.show({message:"File has been successfully copied"},"success"):notification.show({message:"File has been successfully moved"},"success"),n.type===1?($("#divCabinetDocList").empty(),$("#divCabinetDocList").append('<div class="tiny_loading"><\/div>'),$("#divCabinetDocList").load("/Document/CabinetDocList?cabinetId="+n.encryptedId)):n.type===2?($("#divF1DocList").empty(),$("#divF1DocList").append('<div class="tiny_loading"><\/div>'),$("#divF1DocList").load("/Document/F1DocList?f1Id="+n.encryptedId)):n.type===3?($("#divF2DocList").empty(),$("#divF2DocList").append('<div class="tiny_loading"><\/div>'),$("#divF2DocList").load("/Document/F2DocList?f2Id="+n.encryptedId)):n.type===4&&($("#divF3DocList").empty(),$("#divF3DocList").append('<div class="tiny_loading"><\/div>'),$("#divF3DocList").load("/Document/F3DocList?f3Id="+n.encryptedId)),$(".btnUnSelect").click(),loadCabinetTree(),storageInfo());$("#divTreeview").data("kendoWindow").close()},error:function(){notification.show({message:"File update was unsuccessful."},"error");$("#btnTreeOk").prop("disabled",!1)}})):notification.show({message:"Please select folder."},"error")})})();