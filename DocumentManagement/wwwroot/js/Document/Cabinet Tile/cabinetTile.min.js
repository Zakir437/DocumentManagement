(function(){var n="",i="",t;$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip();$("#liForCabinetTree").addClass("active");$("#liForCabinetTree").find("ul:eq(0)").toggle(!0,"slow");$("#btnCabinetTreeMenu.arrow").addClass("open");$("#divCabinetFolderList").load("/Document/CabinetList")});$("#divCabinetFolderList").on("click",".box",function(){n=$(this).data("id");i="/Document/CabinetTileDetails?q="+n;onAjaxLoad("Cabinet Details",i)});$("#divCabinetFolderList").on("mousedown",".box",function(i){i.which===3&&(n=$(this).data("id"),$(".cmenu-options").empty(),$(".cmenu-options").append('<li class="cmenu-option btnViewDetails" data-href="/Document/CabinetTileDetails?q='+n+'"><button class="btn btn-info waves-effect btn-sm" data-toggle="tooltip" title="View details"><i class="fa fa-eye"><\/i><\/button> <span>View<\/span><\/li > <li class="cmenu-option btnAddFolder" data-href="/Document/CabinetCreate?q='+n+'"><button class="btn btn-primary waves-effect btn-sm" data-toggle="tooltip" title="Add Folder"><i class="fa fa-plus"><\/i><\/button> <span>Create<\/span><\/li><li class="cmenu-option btnEdit" data-id="'+n+'"><button type="button" class="btn btn-warning waves-effect btn-sm" data-toggle="tooltip" title="Edit"><i class="fa fa-edit"><\/i><\/button> <span>Edit<\/span><\/li><li class="cmenu-option btnRename" data-id="'+n+'"><button type="button" class="btn btn-success waves-effect btn-sm" data-toggle="tooltip" title="Rename"><i class="fa fa-edit"><\/i><\/button> <span>Rename<\/span><\/li><li class="cmenu-option btnFavouriteFolder" data-id="'+n+'"><button type="button" class="btn bg-teal waves-effect btn-sm"  data-toggle="tooltip" title="Favourite"><i class="fa fa-heart"><\/i><\/button> <span>Favourite<\/span><\/li><li class="cmenu-option btnDelete" data-id="'+n+'"><button type="button" class="btn btn-danger waves-effect btn-sm" data-toggle="tooltip" title="Delete"><i class="fa fa-trash"><\/i><\/button> <span>Delete<\/span><\/li><li class="cmenu-option btnProperties" data-id="'+n+'"><button type="button" class="btn btn-info waves-effect btn-sm "  data-toggle="tooltip" title="Info">&nbsp;<i class="fa fa-info"><\/i>&nbsp;<\/button> <span>Properties<\/span><\/li>'),t=$("#div_lft_bar").is(":hidden")||$("#div_lft_bar").hasClass("in")?{left:i.clientX+5,top:i.clientY}:{left:i.clientX+5,top:i.clientY-45},$(".cmenu").css({top:t.top+"px",left:t.left+"px"}),$(".cmenu").show())});$(".cmenu").on("click",".btnViewDetails",function(){i=$(this).data("href");onAjaxLoad("Cabinet Details",i)});$(".cmenu").on("click",".btnCreateCabinet, .btnAddFolder",function(){i=$(this).data("href");onAjaxLoad("Cabinet Create",i)});$(".cmenu").on("click",".btnEdit",function(){n=$(this).data("id");$("#divCabinetFolderList").append('<div id="divEditWin"><\/div>');$("#divEditWin").empty().kendoWindow({actions:["Close"],draggable:!1,modal:!0,visible:!1,width:"45%",height:"50%",title:"Edit",close:onWindowClose,deactivate:function(){this.destroy()}});var t=$("#divEditWin").data("kendoWindow");t.refresh("/Document/CabinetEdit?id="+n);t.center().open();document.documentElement.style.overflow="hidden";document.body.scroll="no"});$(".cmenu").on("click",".btnRename",function(){n=$(this).data("id");$("#divCabinetFolderList").append('<div id="divRenameWin"><\/div>');$("#divRenameWin").empty().kendoWindow({actions:["Close"],draggable:!1,modal:!0,visible:!1,width:"35%",height:"30%",title:"Rename",close:onWindowClose,deactivate:function(){this.destroy()}});var t=$("#divRenameWin").data("kendoWindow");t.refresh("/Document/CabinetRename?id="+n);t.center().open();document.documentElement.style.overflow="hidden";document.body.scroll="no"});$(".cmenu").on("click",".btnDelete",function(){var t,i;n=$(this).data("id");t=$("<div />").kendoWindow({actions:["Close"],title:"Alert",resizable:!1,width:"30%",modal:!0,close:onWindowClose,deactivate:function(){this.destroy()}});msg="Are you sure want to delete this cabinet?";i=kendo.template($("#temp_win_Doc_delete_entry").html());t.data("kendoWindow").content(i).center().open();t.find("#btn_doc_delete_Entry_noty_cancel").click(function(){t.data("kendoWindow").close();document.documentElement.style.overflow="auto"}).end();t.find("#btn_doc_delete_Entry_noty_ok").click(function(){t.data("kendoWindow").close();document.documentElement.style.overflow="auto";$.ajax({url:"/Document/DocumentDelete",type:"Post",data:{pId:n,type:1,isPermanent:t.find("#IsPermanent").is(":checked")},success:function(n){n==="error"?notification.show({message:"Delete was unsuccessful."},"error"):(notification.show({message:"Cabinet has been successfully deleted."},"success"),$("#divCabinetFolderList").empty(),$("#divCabinetFolderList").append('<div class="loading_partial"><\/div>'),$("#divCabinetFolderList").load("/Document/CabinetList"),loadCabinetTree())},error:function(){notification.show({message:"Delete was unsuccessful."},"error")}})}).end();document.documentElement.style.overflow="hidden"});$(".cmenu").on("click",".btnProperties",function(){n=$(this).data("id");$("#divCabinetFolderList").append('<div id="divPropertiesWin"><\/div>');$("#divPropertiesWin").empty().kendoWindow({actions:["Close"],draggable:!1,modal:!0,visible:!1,width:"35%",height:"40%",title:"Properties",close:onWindowClose,deactivate:function(){this.destroy()}});var t=$("#divPropertiesWin").data("kendoWindow");t.refresh("/Document/Properties?folderId="+n+"&type=1");t.center().open();document.documentElement.style.overflow="hidden";document.body.scroll="no"});$(".cmenu").on("click",".btnFavouriteFolder",function(){n=$(this).data("id");$.ajax({url:"/Document/FavouriteSave",type:"Post",data:{folderId:n,folderType:1},success:function(n){n==="error"?notification.show({message:"Cabinet favourite was unsuccessful."},"error"):n==="exist"?notification.show({message:"This cabinet is already added."},"error"):(notification.show({message:"Cabinet has been successfully add to favourite."},"success"),favouriteList())},error:function(){notification.show({message:"Folder favourite was unsuccessful."},"error")}})});$(".body").mousedown(function(n){n.target.className==="min-h-1"&&n.which===3&&($(".cmenu-options").empty(),$(".cmenu-options").append('<li class="cmenu-option btnCreateCabinet" data-href="/Document/CabinetCreate"><button class="btn btn-primary waves-effect btn-sm "  data-toggle="tooltip" title="Add Cabinet"><i class="fa fa-plus"><\/i><\/button> <span>Create<\/span><\/li><li class="cmenu-option btnRefresh"><button type="button" class="btn bg-teal waves-effect btn-sm" data-toggle="tooltip" title="Refresh"><i class="fa fa-refresh"><\/i><\/button> <span>Refresh<\/span><\/li>'),t=$("#div_lft_bar").is(":hidden")||$("#div_lft_bar").hasClass("in")?{left:n.clientX+5,top:n.clientY}:{left:n.clientX+5,top:n.clientY-45},$(".cmenu").css({top:t.top+"px",left:t.left+"px"}),$(".cmenu").show())});$(".cmenu").on("click",".btnRefresh",function(){$("#divCabinetFolderList").empty();$("#divCabinetFolderList").append('<div class="loading_partial"><\/div>');$("#divCabinetFolderList").load("/Document/CabinetList")})})();