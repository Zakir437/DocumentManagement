(function(){var n=0,t;$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip();n=parseInt($("#f3Id").val());$("#divF3RenameForm").load("/Document/_F3Rename?id="+n)});$("#btnF3RenameRefresh").click(function(){$("#divF3RenameForm").empty();$("#divF3RenameForm").append('<div class="tiny_loading"><\/div>');$("#divF3RenameForm").load("/Document/_F3Rename?id="+n)});$("#btnF3RenameCancel").click(function(){$("#divRenameWin").data("kendoWindow").close()});t=$("#divF3RenameForm").kendoValidator({rules:{name:function(n){return n.is("[name=name]")&&$.trim(n.val())===""?!1:!0},IsNameExist:function(t){if(t.is("[name=name]")&&$.trim(t.val())!==""){var i,r={},u=$.trim($("#name").val());return r={id:n,cId:parseInt($("#Cid").val()),f1Id:parseInt($("#f1Id").val()),f2Id:parseInt($("#f2Id").val()),name:u},$.ajax({url:"/RemoteValidation/F3NameExist",mode:"abort",port:"validate"+t.attr("name"),dataType:"json",type:t.attr("data-val-remote-type"),data:r,async:!1,success:function(n){i=n;i=i===!0?!0:!1}}),i}return!0}},messages:{name:"Please enter folder name.",IsNameExist:"This folder name is already exist."}}).data("kendoValidator");$("#btnF3RenameOk").click(function(){t.validate()&&($(this).prop("disabled",!0),$.ajax({url:"/Document/F3RenameSave",type:"POST",data:{name:$.trim($("#name").val()),id:n},success:function(n){n==="error"?notification.show({message:"Folder rename was unsuccessful."},"error"):(notification.show({message:"Folder name has been successfully updated."},"success"),$("#divF2DocList").empty(),$("#divF2DocList").append('<div class="tiny_loading"><\/div>'),$("#divF2DocList").load("/Document/F2DocList?f2Id="+n.f2Id),loadCabinetTree());$("#divRenameWin").data("kendoWindow").close()},error:function(){notification.show({message:"Folder rename was unsuccessful."},"error");$("#divRenameWin").data("kendoWindow").close()}}))})})();