function loadCabinetTree(){$("#cabinetTree").empty();$.ajax({url:"/Document/Cabinets",type:"Get",success:function(n){var t=0,i=0,r=0,u=0;$(n).each(function(n,f){t=f.id;$("#cabinetTree").append('<li id="liForCabinet_'+t+'" data-ccount="'+t+'" data-id="'+f.encryptedId+'" data-type="1"><a href="/Document/CabinetTileDetails?q='+f.encryptedId+'" data-title="Cabinet Details" class="liActionLink"><i class="fa fa-list-ul"><\/i><span class= "title"> '+f.name+'<\/span><\/a><a href="javascript:;" class="liNavLink"><span class="arrow" id="c_arrow_'+t+'"><\/span><\/a><ul class="sub-menu" id="f1Tree_'+t+'"><\/ul><\/li>');$(f.items).each(function(n,f){i=f.id;$.trim(f.items)?($("#f1Tree_"+t).append('<li id="liForF1_'+i+'" data-type="2" data-ccount="'+t+'" data-f1count="'+i+'" data-id="'+f.encryptedId+'"><a href="/Document/F1TileDetails?q='+f.encryptedId+'" data-title="F1 Details" data-type="2" class="liActionLink"><i class="k-icon k-i-folder"><\/i><span class= "title"> '+f.name+'<\/span > <\/a><a href="javascript:;" class="liNavLink"><span class="arrow" id="f1_arrow_'+i+'"><\/span><\/a><ul class="sub-menu" id="f2Tree_'+i+'"><\/ul><\/li>'),$(f.items).each(function(n,f){r=f.id;$.trim(f.items)?($("#f2Tree_"+i).append('<li id="liForF2_'+r+'" data-ccount="'+t+'" data-f1count="'+i+'" data-f2count="'+r+'" data-type="3" data-id="'+f.encryptedId+'"><a href="/Document/F2TileDetails?q='+f.encryptedId+'" data-title="F2 Details" class="liActionLink" data-type="3"><i class="k-icon k-i-folder"><\/i><span class= "title"> '+f.name+'<\/span > <\/a><a href="javascript:;" class="liNavLink"><span class="arrow" id="f2_arrow_'+r+'"><\/span><\/a><ul class="sub-menu" id="f3Tree_'+r+'"><\/ul><\/li>'),$(f.items).each(function(n,f){u=f.id;$("#f3Tree_"+r).append('<li id="liForF3_'+u+'" data-ccount="'+t+'" data-f1count="'+i+'" data-f2count="'+r+'" data-f3count="'+u+'" data-type="4" data-id="'+f.encryptedId+'"><a href="/Document/F3TileDetails?q='+f.encryptedId+'" data-title="F3 Details" data-type="4"><i class="k-icon k-i-folder"><\/i> '+f.name+"<\/a><\/li>")})):$("#f2Tree_"+i).append('<li class="liForF2" id="liForF2_'+r+'" data-ccount="'+t+'" data-f1count="'+i+'" data-f2count="'+r+'" data-type="3" data-id="'+f.encryptedId+'"><a href="/Document/F2TileDetails?q='+f.encryptedId+'"  data-title="F2 Details" data-type="3"><i class="k-icon k-i-folder"><\/i> '+f.name+"<\/a><\/li>")})):$("#f1Tree_"+t).append('<li class="liForF1" data-id="'+f.encryptedId+'" data-type="2" data-ccount="'+t+'" data-f1count="'+i+'" id="liForF1_'+i+'"><a href="/Document/F1TileDetails?q='+f.encryptedId+'" data-title="F1 Details" data-type="2"><i class="k-icon k-i-folder"><\/i> '+f.name+"<\/a><\/li>")})});selectedType>0&&(selectedType===1?($("#liForCabinet_"+c_CountId).addClass("active"),$("#liForCabinet_"+c_CountId).find("ul").toggle(!1,"slow")):selectedType===2?($("#liForCabinet_"+c_CountId).addClass("active"),$("#c_arrow_"+c_CountId).addClass("open"),$("#liForF1_"+f1_CountId).addClass("active"),$("#liForF1_"+f1_CountId).find("ul").toggle(!1,"slow")):selectedType===3?($("#liForCabinet_"+c_CountId).addClass("active"),$("#c_arrow_"+c_CountId).addClass("open"),$("#liForF1_"+f1_CountId).addClass("active"),$("#f1_arrow_"+f1_CountId).addClass("open"),$("#liForF2_"+f2_CountId).addClass("active"),$("#liForF2_"+f2_CountId).find("ul").toggle(!1,"slow")):selectedType===4&&($("#liForCabinet_"+c_CountId).addClass("active"),$("#c_arrow_"+c_CountId).addClass("open"),$("#liForF1_"+f1_CountId).addClass("active"),$("#f1_arrow_"+f1_CountId).addClass("open"),$("#liForF2_"+f2_CountId).addClass("active"),$("#f2_arrow_"+f2_CountId).addClass("open"),$("#liForF3_"+f3_CountId).addClass("active"),$("#liForF3_"+f3_CountId).find("ul").toggle(!1,"slow")))}})}var c_CountId=0,f1_CountId=0,f2_CountId=0,f3_CountId=0,selectedType=0,menuPosition;(function(){var n="",r=0,t="",i=0,u=0,f=0;$(document).ready(function(){loadCabinetTree();$("body").click(function(n){(n.target.className!=="box"||n.target.className!=="nav-cmenu")&&$(".nav-cmenu").hide()});$("body").click(function(n){(n.target.className!=="box"||n.target.className!=="cmenu")&&$(".cmenu").hide()})});$("#cabinetTree").on("mousedown","li",function(t){return n="",t.which===3?(n=$(this).data("id"),r=parseInt($(this).data("type")),$(".nav-cmenu-options").empty(),r===1?(i=parseInt($(this).data("ccount")),$(".nav-cmenu-options").append('<li class="nav-cmenu-option btn-c-ViewDetails" data-count="'+i+'"><button class="btn btn-info waves-effect btn-sm" data-toggle="tooltip" title="View details"><i class="fa fa-eye"><\/i><\/button> <span>View<\/span><\/li > <li class="nav-cmenu-option btnAddCabinet" data-href="/Document/CabinetCreate?q='+n+'" data-count="'+i+'"><button class="btn btn-primary waves-effect btn-sm" data-toggle="tooltip" title="Add Folder"><i class="fa fa-plus"><\/i><\/button> <span>Create<\/span><\/li><li class="nav-cmenu-option btnEditCabinet" data-id="'+n+'"><button type="button" class="btn btn-warning waves-effect btn-sm" data-toggle="tooltip" title="Edit"><i class="fa fa-edit"><\/i><\/button> <span>Edit<\/span><\/li><li class="nav-cmenu-option btnRenameCabinet" data-id="'+n+'"><button type="button" class="btn btn-success waves-effect btn-sm" data-toggle="tooltip" title="Rename"><i class="fa fa-edit"><\/i><\/button> <span>Rename<\/span><\/li><li class="nav-cmenu-option btnDeleteCabinet" data-id="'+n+'"><button type="button" class="btn btn-danger waves-effect btn-sm" data-toggle="tooltip" title="Delete"><i class="fa fa-trash"><\/i><\/button> <span>Delete<\/span><\/li><li class="nav-cmenu-option btnPropertiesCabinet" data-id="'+n+'"><button type="button" class="btn btn-info waves-effect btn-sm "  data-toggle="tooltip" title="Info">&nbsp;<i class="fa fa-info"><\/i>&nbsp;<\/button> <span>Properties<\/span><\/li>')):r===2?(i=parseInt($(this).data("ccount")),u=parseInt($(this).data("f1count")),$(".nav-cmenu-options").append('<li class="nav-cmenu-option btn-f1-ViewDetails" data-count="'+u+'"><button class="btn btn-info waves-effect btn-sm "  data-toggle="tooltip" title = "View details" > <i class="fa fa-eye"><\/i><\/button> <span>View<\/span><\/li > <li class="nav-cmenu-option btnF1Add" data-href="/Document/F1Add?q='+n+'" data-count="'+u+'"><button class="btn btn-primary waves-effect btn-sm "  data-toggle="tooltip" title="Add Folder"><i class="fa fa-plus"><\/i><\/button> <span>Create<\/span><\/li><li class="nav-cmenu-option btnEdit_F1" data-id="'+n+'"><button type="button" class="btn btn-warning waves-effect btn-sm"  data-toggle="tooltip" title="Edit"><i class="fa fa-edit"><\/i><\/button> <span>Edit<\/span><\/li><li class="nav-cmenu-option btnRenameF1"  data-id="'+n+'"><button type="button" class="btn btn-success waves-effect btn-sm" data-toggle="tooltip" title="Rename"><i class="fa fa-edit"><\/i><\/button> <span>Rename<\/span><\/li><li class="nav-cmenu-option btnCopyF1" data-id="'+n+'"><button type="button" class="btn waves-effect bg-purple btn-sm"  data-toggle="tooltip" title="Copy"><i class="fa fa-copy"><\/i><\/button> <span>Copy<\/span><\/li><li class="nav-cmenu-option btnMoveF1" data-id="'+n+'"><button type="button" class="btn btn-warning waves-effect btn-sm"  data-toggle="tooltip" title="Move"><i class="fa fa-arrow-right"><\/i><\/button> <span>Move<\/span><\/li><li class="nav-cmenu-option btnFavouriteF1" data-id="'+n+'"><button type="button" class="btn bg-teal waves-effect btn-sm"  data-toggle="tooltip" title="Favourite"><i class="fa fa-heart"><\/i><\/button> <span>Favourite<\/span><\/li><li class="nav-cmenu-option btnDeleteF1" data-id="'+n+'"><button type="button" class="btn btn-danger waves-effect btn-sm "  data-toggle="tooltip" title="Delete"><i class="fa fa-trash"><\/i><\/button> <span>Delete<\/span><\/li><li class="nav-cmenu-option btnPropertiesF1" data-id="'+n+'"><button type="button" class="btn btn-info waves-effect btn-sm "  data-toggle="tooltip" title="Info">&nbsp;<i class="fa fa-info"><\/i>&nbsp;<\/button> <span>Properties<\/span><\/li>')):r===3?(i=parseInt($(this).data("ccount")),u=parseInt($(this).data("f1count")),f=parseInt($(this).data("f2count")),$(".nav-cmenu-options").append('<li class="nav-cmenu-option btn-f2-ViewDetails" data-count="'+f+'"><button class="btn btn-info waves-effect btn-sm "  data-toggle="tooltip" title = "View details" > <i class="fa fa-eye"><\/i><\/button> <span>View<\/span><\/li > <li class="nav-cmenu-option btnF2Add" data-href="/Document/F2Add?q='+n+'" data-count="'+f+'"><button class="btn btn-primary waves-effect btn-sm" data-toggle="tooltip" title="Add Sub Folder"><i class="fa fa-plus"><\/i><\/button> <span>Create<\/span><\/li><li class="nav-cmenu-option btnEdit_F2" data-id="'+n+'"><button type="button" class="btn btn-warning waves-effect btn-sm  "  data-toggle="tooltip" title="Edit"><i class="fa fa-edit"><\/i><\/button> <span>Edit<\/span><\/li><li class="nav-cmenu-option btnRenameF2" data-id="'+n+'"><button type="button" class="btn btn-success waves-effect btn-sm "  data-toggle="tooltip" title="Rename"><i class="fa fa-edit"><\/i><\/button> <span>Rename<\/span><\/li><li class="nav-cmenu-option btnCopyFolderF2" data-id="'+n+'"><button type="button" class="btn waves-effect bg-purple btn-sm "  data-toggle="tooltip" title="Copy"><i class="fa fa-copy"><\/i><\/button> <span>Copy<\/span><\/li><li class="nav-cmenu-option btnMoveFolderF2" data-id="'+n+'" ><button type="button" class="btn btn-warning waves-effect btn-sm " data-toggle="tooltip" title="Move"><i class="fa fa-arrow-right"><\/i><\/button> <span>Move<\/span><\/li><li class="nav-cmenu-option btnFavouriteFolderF2" data-id="'+n+'"><button type="button" class="btn bg-teal waves-effect btn-sm "  data-toggle="tooltip" title="Favourite"><i class="fa fa-heart"><\/i><\/button> <span>Favourite<\/span><\/li><li class="nav-cmenu-option btnDeleteFolderF2" data-id="'+n+'"><button type="button" class="btn btn-danger waves-effect btn-sm "  data-toggle="tooltip" title="Delete"><i class="fa fa-trash"><\/i><\/button> <span>Delete<\/span><\/li><li class="nav-cmenu-option btnPropertiesFolderF2" data-id="'+n+'"><button type="button" class="btn btn-info waves-effect btn-sm "  data-toggle="tooltip" title="Info">&nbsp;<i class="fa fa-info"><\/i>&nbsp;<\/button> <span>Properties<\/span><\/li>')):r===4&&$(".nav-cmenu-options").append('<li class="nav-cmenu-option btn-f3-ViewDetails" data-count="'+parseInt($(this).data("f3count"))+'"><button class="btn btn-info waves-effect btn-sm "  data-toggle="tooltip" title = "View details" > <i class="fa fa-eye"><\/i><\/button> <span>View<\/span><\/li > <li class="nav-cmenu-option btnRenameF3" data-id="'+n+'"><button type="button" class="btn btn-success waves-effect btn-sm "  data-toggle="tooltip" title="Rename"><i class="fa fa-edit"><\/i><\/button> <span>Rename<\/span><\/li><li class="nav-cmenu-option btnCopyFolderF3" data-id="'+n+'"><button type="button" class="btn waves-effect bg-purple btn-sm "  data-toggle="tooltip" title="Copy"><i class="fa fa-copy"><\/i><\/button> <span>Copy<\/span><\/li><li class="nav-cmenu-option btnMoveFolderF3" data-id="'+n+'" ><button type="button" class="btn btn-warning waves-effect btn-sm " data-toggle="tooltip" title="Move"><i class="fa fa-arrow-right"><\/i><\/button> <span>Move<\/span><\/li><li class="nav-cmenu-option btnFavouriteFolderF3" data-id="'+n+'"><button type="button" class="btn bg-teal waves-effect btn-sm "  data-toggle="tooltip" title="Favourite"><i class="fa fa-heart"><\/i><\/button> <span>Favourite<\/span><\/li><li class="nav-cmenu-option btnDeleteFolderF3" data-id="'+n+'"><button type="button" class="btn btn-danger waves-effect btn-sm "  data-toggle="tooltip" title="Delete"><i class="fa fa-trash"><\/i><\/button> <span>Delete<\/span><\/li><li class="nav-cmenu-option btnPropertiesFolderF3" data-id="'+n+'"><button type="button" class="btn btn-info waves-effect btn-sm "  data-toggle="tooltip" title="Info">&nbsp;<i class="fa fa-info"><\/i>&nbsp;<\/button> <span>Properties<\/span><\/li>'),menuPosition=$("#div_lft_bar").is(":hidden")||$("#div_lft_bar").hasClass("in")?{left:t.clientX+5,top:t.clientY}:{left:t.clientX+5,top:t.clientY-45},$(".nav-cmenu").css({top:menuPosition.top+"px",left:menuPosition.left+"px"}),$(".nav-cmenu").show(),!1):void 0});$(".nav-cmenu").on("click",".btn-c-ViewDetails",function(){$("#liForCabinet_"+$(this).data("count")).find("a:first").click()});$(".nav-cmenu").on("click",".btn-f1-ViewDetails",function(){$("#liForF1_"+$(this).data("count")).find("a:first").click()});$(".nav-cmenu").on("click",".btn-f2-ViewDetails",function(){$("#liForF2_"+$(this).data("count")).find("a:first").click()});$(".nav-cmenu").on("click",".btn-f3-ViewDetails",function(){$("#liForF3_"+$(this).data("count")).find("a:first").click()});$(".nav-cmenu").on("click",".btnAddCabinet",function(){i=parseInt($(this).data("count"));t=$(this).data("href");onAjaxLoad("Cabinet Create",t)});$(".nav-cmenu").on("click",".btnF1Add",function(){u=parseInt($(this).data("count"));t=$(this).data("href");onAjaxLoad("F1 Add",t)});$(".nav-cmenu").on("click",".btnF2Add",function(){f=parseInt($(this).data("count"));t=$(this).data("href");onAjaxLoad("F2 Add",t)});$(".nav-cmenu").on("click",".btnEditCabinet",function(){n=$(this).data("id");$("#div_lft_bar").append('<div id="divEditWin"><\/div>');$("#divEditWin").empty().kendoWindow({actions:["Close"],draggable:!1,modal:!0,visible:!1,width:"45%",height:"50%",title:"Edit",close:onWindowClose,deactivate:function(){this.destroy()}});var t=$("#divEditWin").data("kendoWindow");t.refresh("/Document/CabinetEdit?id="+n);t.center().open();document.documentElement.style.overflow="hidden";document.body.scroll="no"});$(".nav-cmenu").on("click",".btnRenameCabinet",function(){n=$(this).data("id");$("#div_lft_bar").append('<div id="divRenameWin"><\/div>');$("#divRenameWin").empty().kendoWindow({actions:["Close"],draggable:!1,modal:!0,visible:!1,width:"35%",height:"30%",title:"Rename",close:onWindowClose,deactivate:function(){this.destroy()}});var t=$("#divRenameWin").data("kendoWindow");t.refresh("/Document/CabinetRename?id="+n);t.center().open();document.documentElement.style.overflow="hidden";document.body.scroll="no"});$(".nav-cmenu").on("click",".btnDeleteCabinet",function(){var t,i;n=$(this).data("id");t=$("<div />").kendoWindow({actions:["Close"],title:"Alert",resizable:!1,width:"30%",modal:!0,close:onWindowClose,deactivate:function(){this.destroy()}});msg="Are you sure want to delete this cabinet?";i=kendo.template($("#temp_win_Doc_delete_entry").html());t.data("kendoWindow").content(i).center().open();t.find("#btn_doc_delete_Entry_noty_cancel").click(function(){t.data("kendoWindow").close();document.documentElement.style.overflow="auto"}).end();t.find("#btn_doc_delete_Entry_noty_ok").click(function(){t.data("kendoWindow").close();document.documentElement.style.overflow="auto";$.ajax({url:"/Document/DocumentDelete",type:"Post",data:{pId:n,type:1,isPermanent:t.find("#IsPermanent").is(":checked")},success:function(n){n==="error"?notification.show({message:"Delete was unsuccessful."},"error"):(notification.show({message:"Cabinet has been successfully deleted."},"success"),$("#divCabinetFolderList").length===1&&($("#divCabinetFolderList").empty(),$("#divCabinetFolderList").append('<div class="tiny_loading"><\/div>'),$("#divCabinetFolderList").load("/Document/CabinetList")),loadCabinetTree())},error:function(){notification.show({message:"Delete was unsuccessful."},"error")}})}).end();document.documentElement.style.overflow="hidden"});$(".nav-cmenu").on("click",".btnPropertiesCabinet",function(){n=$(this).data("id");$("#div_lft_bar").append('<div id="divPropertiesWin"><\/div>');$("#divPropertiesWin").empty().kendoWindow({actions:["Close"],draggable:!1,modal:!0,visible:!1,width:"30%",height:"40%",title:"Properties",close:onWindowClose,deactivate:function(){this.destroy()}});var t=$("#divPropertiesWin").data("kendoWindow");t.refresh("/Document/Properties?folderId="+n+"&type=1");t.center().open();document.documentElement.style.overflow="hidden";document.body.scroll="no"});$(".nav-cmenu").on("click",".btnEdit_F1",function(){n=$(this).data("id");$("#div_lft_bar").append('<div id="divEditWin"><\/div>');$("#divEditWin").empty().kendoWindow({actions:["Close"],draggable:!1,modal:!0,visible:!1,width:"45%",height:"50%",title:"Edit",close:onWindowClose,deactivate:function(){this.destroy()}});var t=$("#divEditWin").data("kendoWindow");t.refresh("/Document/F1Edit?id="+n);t.center().open();document.documentElement.style.overflow="hidden";document.body.scroll="no"});$(".nav-cmenu").on("click",".btnRenameF1",function(){n=$(this).data("id");$("#div_lft_bar").append('<div id="divRenameWin"><\/div>');$("#divRenameWin").empty().kendoWindow({actions:["Close"],draggable:!1,modal:!0,visible:!1,width:"35%",height:"30%",title:"Rename",close:onWindowClose,deactivate:function(){this.destroy()}});var t=$("#divRenameWin").data("kendoWindow");t.refresh("/Document/F1Rename?id="+n);t.center().open();document.documentElement.style.overflow="hidden";document.body.scroll="no"});$(".nav-cmenu").on("click",".btnDeleteF1",function(){var t,i;n=$(this).data("id");t=$("<div />").kendoWindow({actions:["Close"],title:"Alert",resizable:!1,width:"30%",modal:!0,close:onWindowClose,deactivate:function(){this.destroy()}});msg="Are you sure want to delete this folder?";i=kendo.template($("#temp_win_Doc_delete_entry").html());t.data("kendoWindow").content(i).center().open();t.find("#btn_doc_delete_Entry_noty_cancel").click(function(){t.data("kendoWindow").close();document.documentElement.style.overflow="auto"}).end();t.find("#btn_doc_delete_Entry_noty_ok").click(function(){t.data("kendoWindow").close();document.documentElement.style.overflow="auto";$.ajax({url:"/Document/DocumentDelete",type:"Post",data:{pId:n,type:2,isPermanent:t.find("#IsPermanent").is(":checked")},success:function(n){n==="error"?notification.show({message:"Delete was unsuccessful."},"error"):(notification.show({message:"Folder has been successfully deleted."},"success"),$("#divCabinetDocList").length===1&&($(".btnUnSelect").click(),$("#divCabinetDocList").empty(),$("#divCabinetDocList").append('<div class="tiny_loading"><\/div>'),$("#divCabinetDocList").load("/Document/CabinetDocList?cabinetId="+$("#EncryptedId").val())),loadCabinetTree())},error:function(){notification.show({message:"Delete was unsuccessful."},"error")}})}).end();document.documentElement.style.overflow="hidden"});$(".nav-cmenu").on("click",".btnFavouriteF1",function(){n=$(this).data("id");$.ajax({url:"/Document/FavouriteSave",type:"Post",data:{folderId:n,folderType:1},success:function(n){n==="error"?notification.show({message:"Folder favourite was unsuccessful."},"error"):n==="exist"?notification.show({message:"This Folder is already added."},"error"):notification.show({message:"Folder has been successfully add to favourite."},"success")},error:function(){notification.show({message:"Folder favourite was unsuccessful."},"error")}})});$(".nav-cmenu").on("click",".btnCopyF1",function(){n=$(this).data("id");$("#div_lft_bar").append('<div id="divTreeview"><\/div>');$("#divTreeview").empty().kendoWindow({actions:["Close"],draggable:!1,modal:!0,visible:!1,width:"30%",height:"40%",title:"Select",close:onWindowClose,deactivate:function(){this.destroy()}});var t=$("#divTreeview").data("kendoWindow");t.refresh("/Document/CabinetTreeView?folderId="+n+"&isCopy=true&type=1");t.center().open();document.documentElement.style.overflow="hidden";document.body.scroll="no"});$(".nav-cmenu").on("click",".btnMoveF1",function(){n=$(this).data("id");$("#div_lft_bar").append('<div id="divTreeview"><\/div>');$("#divTreeview").empty().kendoWindow({actions:["Close"],draggable:!1,modal:!0,visible:!1,width:"30%",height:"40%",title:"Select",close:onWindowClose,deactivate:function(){this.destroy()}});var t=$("#divTreeview").data("kendoWindow");t.refresh("/Document/CabinetTreeView?folderId="+n+"&isCopy=false&type=1&encryptedId="+$("#EncryptedId").val());t.center().open();document.documentElement.style.overflow="hidden";document.body.scroll="no"});$(".nav-cmenu").on("click",".btnPropertiesF1",function(){n=$(this).data("id");$("#div_lft_bar").append('<div id="divPropertiesWin"><\/div>');$("#divPropertiesWin").empty().kendoWindow({actions:["Close"],draggable:!1,modal:!0,visible:!1,width:"35%",height:"40%",title:"Properties",close:onWindowClose,deactivate:function(){this.destroy()}});var t=$("#divPropertiesWin").data("kendoWindow");t.refresh("/Document/Properties?folderId="+n+"&type=2");t.center().open();document.documentElement.style.overflow="hidden";document.body.scroll="no"});$(".nav-cmenu").on("click",".btnEdit_F2",function(){n=$(this).data("id");$("#div_lft_bar").append('<div id="divEditWin"><\/div>');$("#divEditWin").empty().kendoWindow({actions:["Close"],draggable:!1,modal:!0,visible:!1,width:"45%",height:"50%",title:"Edit",close:onWindowClose,deactivate:function(){this.destroy()}});var t=$("#divEditWin").data("kendoWindow");t.refresh("/Document/F2Edit?id="+n);t.center().open();document.documentElement.style.overflow="hidden";document.body.scroll="no"});$(".nav-cmenu").on("click",".btnRenameF2",function(){n=$(this).data("id");$("#div_lft_bar").append('<div id="divRenameWin"><\/div>');$("#divRenameWin").empty().kendoWindow({actions:["Close"],draggable:!1,modal:!0,visible:!1,width:"35%",height:"30%",title:"Rename",close:onWindowClose,deactivate:function(){this.destroy()}});var t=$("#divRenameWin").data("kendoWindow");t.refresh("/Document/F2Rename?id="+n);t.center().open();document.documentElement.style.overflow="hidden";document.body.scroll="no"});$(".nav-cmenu").on("click",".btnCopyFolderF2",function(){n=$(this).data("id");$("#div_lft_bar").append('<div id="divTreeview"><\/div>');$("#divTreeview").empty().kendoWindow({actions:["Close"],draggable:!1,modal:!0,visible:!1,width:"30%",height:"40%",title:"Select",close:onWindowClose,deactivate:function(){this.destroy()}});var t=$("#divTreeview").data("kendoWindow");t.refresh("/Document/CabinetTreeView?folderId="+n+"&isCopy=true&type=2");t.center().open();document.documentElement.style.overflow="hidden";document.body.scroll="no"});$(".nav-cmenu").on("click",".btnMoveFolderF2",function(){n=$(this).data("id");$("#div_lft_bar").append('<div id="divTreeview"><\/div>');$("#divTreeview").empty().kendoWindow({actions:["Close"],draggable:!1,modal:!0,visible:!1,width:"30%",height:"40%",title:"Select",close:onWindowClose,deactivate:function(){this.destroy()}});var t=$("#divTreeview").data("kendoWindow");t.refresh("/Document/CabinetTreeView?folderId="+n+"&isCopy=false&type=2&encryptedId="+$("#F1Id").val());t.center().open();document.documentElement.style.overflow="hidden";document.body.scroll="no"});$(".nav-cmenu").on("click",".btnDeleteFolderF2",function(){var t,i;n=$(this).data("id");t=$("<div />").kendoWindow({actions:["Close"],title:"Alert",resizable:!1,width:"30%",modal:!0,close:onWindowClose,deactivate:function(){this.destroy()}});msg="Are you sure want to delete this folder?";i=kendo.template($("#temp_win_Doc_delete_entry").html());t.data("kendoWindow").content(i).center().open();t.find("#btn_doc_delete_Entry_noty_cancel").click(function(){t.data("kendoWindow").close();document.documentElement.style.overflow="auto"}).end();t.find("#btn_doc_delete_Entry_noty_ok").click(function(){t.data("kendoWindow").close();document.documentElement.style.overflow="auto";$.ajax({url:"/Document/DocumentDelete",type:"Post",data:{pId:n,type:3,isPermanent:t.find("#IsPermanent").is(":checked")},success:function(n){n==="error"?notification.show({message:"Delete was unsuccessful."},"error"):(notification.show({message:"Folder has been successfully deleted."},"success"),$("#divF1DocList").length===1&&($(".btnUnSelect").click(),$("#divF1DocList").empty(),$("#divF1DocList").append('<div class="tiny_loading"><\/div>'),$("#divF1DocList").load("/Document/F1DocList?f1Id="+$("#F1Id").val())),loadCabinetTree())},error:function(){notification.show({message:"Delete was unsuccessful."},"error")}})}).end();document.documentElement.style.overflow="hidden"});$(".nav-cmenu").on("click",".btnFavouriteFolderF2",function(){n=$(this).data("id");$.ajax({url:"/Document/FavouriteSave",type:"Post",data:{folderId:n,folderType:2},success:function(n){n==="error"?notification.show({message:"Folder favourite was unsuccessful."},"error"):n==="exist"?notification.show({message:"This Folder is already added."},"error"):notification.show({message:"Folder has been successfully add to favourite."},"success")},error:function(){notification.show({message:"Folder favourite was unsuccessful."},"error")}})});$(".nav-cmenu").on("click",".btnPropertiesFolderF2",function(){n=$(this).data("id");$("#div_lft_bar").append('<div id="divPropertiesWin"><\/div>');$("#divPropertiesWin").empty().kendoWindow({actions:["Close"],draggable:!1,modal:!0,visible:!1,width:"30%",height:"40%",title:"Properties",close:onWindowClose,deactivate:function(){this.destroy()}});var t=$("#divPropertiesWin").data("kendoWindow");t.refresh("/Document/Properties?folderId="+n+"&type=3");t.center().open();document.documentElement.style.overflow="hidden";document.body.scroll="no"});$(".nav-cmenu").on("click",".btnRenameF3",function(){n=$(this).data("id");$("#div_lft_bar").append('<div id="divRenameWin"><\/div>');$("#divRenameWin").empty().kendoWindow({actions:["Close"],draggable:!1,modal:!0,visible:!1,width:"35%",height:"30%",title:"Rename",close:onWindowClose,deactivate:function(){this.destroy()}});var t=$("#divRenameWin").data("kendoWindow");t.refresh("/Document/F3Rename?id="+n);t.center().open();document.documentElement.style.overflow="hidden";document.body.scroll="no"});$(".nav-cmenu").on("click",".btnDeleteFolderF3",function(){var t,i;n=$(this).data("id");t=$("<div />").kendoWindow({actions:["Close"],title:"Alert",resizable:!1,width:"30%",modal:!0,close:onWindowClose,deactivate:function(){this.destroy()}});msg="Are you sure want to delete this folder?";i=kendo.template($("#temp_win_Doc_delete_entry").html());t.data("kendoWindow").content(i).center().open();t.find("#btn_doc_delete_Entry_noty_cancel").click(function(){t.data("kendoWindow").close();document.documentElement.style.overflow="auto"}).end();t.find("#btn_doc_delete_Entry_noty_ok").click(function(){t.data("kendoWindow").close();document.documentElement.style.overflow="auto";$.ajax({url:"/Document/DocumentDelete",type:"Post",data:{pId:n,type:4,isPermanent:t.find("#IsPermanent").is(":checked")},success:function(n){n==="error"?notification.show({message:"Delete was unsuccessful."},"error"):(notification.show({message:"Folder has been successfully deleted."},"success"),$("#divF2DocList").length===1&&($(".btnUnSelect").click(),$("#divF2DocList").empty(),$("#divF2DocList").append('<div class="tiny_loading"><\/div>'),$("#divF2DocList").load("/Document/F2DocList?f2Id="+$("#F2Id").val())),loadCabinetTree())},error:function(){notification.show({message:"Delete was unsuccessful."},"error")}})}).end();document.documentElement.style.overflow="hidden"});$(".nav-cmenu").on("click",".btnFavouriteFolderF3",function(){n=$(this).data("id");$.ajax({url:"/Document/FavouriteSave",type:"Post",data:{folderId:n,folderType:3},success:function(n){n==="error"?notification.show({message:"Folder favourite was unsuccessful."},"error"):n==="exist"?notification.show({message:"This Folder is already added."},"error"):notification.show({message:"Folder has been successfully add to favourite."},"success")},error:function(){notification.show({message:"Folder favourite was unsuccessful."},"error")}})});$(".nav-cmenu").on("click",".btnCopyFolderF3",function(){n=$(this).data("id");$("#div_lft_bar").append('<div id="divTreeview"><\/div>');$("#divTreeview").kendoWindow({actions:["Close"],draggable:!1,modal:!0,visible:!1,width:"30%",height:"40%",title:"Select",close:onWindowClose,deactivate:function(){this.destroy()}});var t=$("#divTreeview").data("kendoWindow");t.refresh("/Document/CabinetTreeView?folderId="+n+"&isCopy=true&type=3");t.center().open();document.documentElement.style.overflow="hidden";document.body.scroll="no"});$(".nav-cmenu").on("click",".btnMoveFolderF3",function(){n=$(this).data("id");$("#div_lft_bar").append('<div id="divTreeview"><\/div>');$("#divTreeview").empty().kendoWindow({actions:["Close"],draggable:!1,modal:!0,visible:!1,width:"30%",height:"40%",title:"Select",close:onWindowClose,deactivate:function(){this.destroy()}});var t=$("#divTreeview").data("kendoWindow");t.refresh("/Document/CabinetTreeView?folderId="+n+"&isCopy=false&type=3&encryptedId="+$("#F2Id").val());t.center().open();document.documentElement.style.overflow="hidden";document.body.scroll="no"});$(".nav-cmenu").on("click",".btnPropertiesFolderF3",function(){n=$(this).data("id");$("#div_lft_bar").append('<div id="divPropertiesWin"><\/div>');$("#divPropertiesWin").kendoWindow({actions:["Close"],draggable:!1,modal:!0,visible:!1,width:"35%",height:"40%",title:"Properties",close:onWindowClose,deactivate:function(){this.destroy()}});var t=$("#divPropertiesWin").data("kendoWindow");t.refresh("/Document/Properties?folderId="+n+"&type=4");t.center().open();document.documentElement.style.overflow="hidden";document.body.scroll="no"})})();