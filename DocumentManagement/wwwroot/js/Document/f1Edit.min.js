(function(){var t="",n=0,i;$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip();t=$("#F1Id_").val();$("#divF1FormList").load("/Document/_F1Edit?id="+t)});$("#btnF1Refresh").click(function(){t=$("#F1Id_").val();$("#divF1FormList").empty();$("#divF1FormList").append('<div class="tiny_loading"><\/div>');$("#divF1FormList").load("/Document/_F1Edit?id="+t)});$("#btnF1Cancel").click(function(){$("#divEditWin").data("kendoWindow").close()});$("#divF1FormList").kendoValidator().data("kendoValidator");$("#divF1FormList").on("click",".btnEditF2",function(){$(this).hide();n=parseInt($(this).data("count"));$("#f2Name1_"+n).prop("disabled",!1);$("#f2Name1_"+n).focus();$("#btn1UpdateF2_"+n).show()});$("#divF1FormList").on("click",".btnUpdateF2",function(){n=parseInt($(this).data("count"));t=$(this).data("id");i=$("#divF2_"+n).kendoValidator().data("kendoValidator");i.validate()&&($(this).prop("disabled",!0),$.ajax({url:"/Document/F2NameUpdate",type:"Post",data:{name:$.trim($("#f2Name1_"+n).val()),id:t},success:function(t){t==="error"?(notification.show({message:"Update was unsuccessful."},"error"),$("#btn1UpdateF2_"+n).prop("disabled",!1)):(notification.show({message:"Folder name has been successfully updated."},"success"),$("#f2Name1_"+n).prop("disabled",!0),$("#btn1UpdateF2_"+n).hide(),$("#btn1EditF2_"+n).show(),$("#btn1UpdateF2_"+n).prop("disabled",!1),loadCabinetTree())},error:function(){notification.show({message:"Update was unsuccessful."},"error");$("#btn1UpdateF2_"+n).prop("disabled",!1)}}))});$("#divF1FormList").on("click",".btnEditF3",function(){$(this).hide();n=parseInt($(this).data("count"));$("#f3Name1_"+n).prop("disabled",!1);$("#f3Name1_"+n).focus();$("#btn1UpdateF3_"+n).show()});$("#divF1FormList").on("click",".btnUpdateF3",function(){n=parseInt($(this).data("count"));t=$(this).data("id");i=$("#divF3_"+n).kendoValidator().data("kendoValidator");i.validate()&&($(this).prop("disabled",!0),$.ajax({url:"/Document/F3NameUpdate",type:"Post",data:{name:$.trim($("#f3Name1_"+n).val()),id:t},success:function(t){t==="error"?(notification.show({message:"Update was unsuccessful."},"error"),$("#btn1UpdateF3_"+n).prop("disabled",!1)):(notification.show({message:"Sub folder name has been successfully updated."},"success"),$("#f3Name1_"+n).prop("disabled",!0),$("#btn1UpdateF3_"+n).hide(),$("#btn1EditF3_"+n).show(),$("#btn1UpdateF3_"+n).prop("disabled",!1),loadCabinetTree())},error:function(){notification.show({message:"Update was unsuccessful."},"error");$("#btn1UpdateF3_"+n).prop("disabled",!1)}}))});$("#divF1FormList").on("click",".btnDeleteF2",function(){var n,i;t=$(this).data("id");n=$("<div />").kendoWindow({actions:["Close"],title:"Alert",resizable:!1,width:"30%",modal:!0,close:onWindowClose,deactivate:function(){this.destroy()}});msg="Are you sure want to delete this folder?";i=kendo.template($("#temp_win_Doc_delete_entry").html());n.data("kendoWindow").content(i).center().open();n.find("#btn_doc_delete_Entry_noty_cancel").click(function(){n.data("kendoWindow").close();document.documentElement.style.overflow="auto"}).end();n.find("#btn_doc_delete_Entry_noty_ok").click(function(){n.data("kendoWindow").close();document.documentElement.style.overflow="auto";$.ajax({url:"/Document/DocumentDelete",type:"Post",data:{pId:t,type:3,isPermanent:n.find("#IsPermanent").is(":checked")},success:function(n){n==="error"?notification.show({message:"Delete was unsuccessful."},"error"):(notification.show({message:"Folder has been successfully deleted."},"success"),$("#divF1FormList").empty(),$("#divF1FormList").append('<div class="tiny_loading"><\/div>'),$("#divF1FormList").load("/Document/_F1Edit?id="+$("#F1Id_").val()),loadCabinetTree())},error:function(){notification.show({message:"Delete was unsuccessful."},"error")}})}).end();document.documentElement.style.overflow="hidden"});$("#divF1FormList").on("click",".btnDeleteF3",function(){var n,i;t=$(this).data("id");n=$("<div />").kendoWindow({actions:["Close"],title:"Alert",resizable:!1,width:"30%",modal:!0,close:onWindowClose,deactivate:function(){this.destroy()}});msg="Are you sure want to delete this folder?";i=kendo.template($("#temp_win_Doc_delete_entry").html());n.data("kendoWindow").content(i).center().open();n.find("#btn_doc_delete_Entry_noty_cancel").click(function(){n.data("kendoWindow").close();document.documentElement.style.overflow="auto"}).end();n.find("#btn_doc_delete_Entry_noty_ok").click(function(){n.data("kendoWindow").close();document.documentElement.style.overflow="auto";$.ajax({url:"/Document/DocumentDelete",type:"Post",data:{pId:t,type:4,isPermanent:n.find("#IsPermanent").is(":checked")},success:function(n){n==="error"?notification.show({message:"Delete was unsuccessful."},"error"):(notification.show({message:"Folder has been successfully deleted."},"success"),$("#divF1FormList").empty(),$("#divF1FormList").append('<div class="tiny_loading"><\/div>'),$("#divF1FormList").load("/Document/_F1Edit?id="+$("#F1Id_").val()),loadCabinetTree())},error:function(){notification.show({message:"Delete was unsuccessful."},"error")}})}).end();document.documentElement.style.overflow="hidden"})})();