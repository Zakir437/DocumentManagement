(function(){var t="",u=0,i=0,n=0,r="",f;$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip();$("#divFavouriteList").load("/Document/FavouriteList")});$("body").click(function(n){(n.target.className!=="box"||n.target.className!=="cmenu")&&$(".cmenu").hide()});$("#divFavouriteList").on("click",".box",function(){n=parseInt($(this).data("type"));n>0&&($("#liForFavourite").removeClass("active"),t=$(this).data("folderid"),n===1?(r="/Document/CabinetTileDetails?q="+t,onAjaxLoad("Cabinet Details",r)):n===2?(r="/Document/F1TileDetails?q="+t,onAjaxLoad("F1 Details",r)):n===3?(r="/Document/F2TileDetails?q="+t,onAjaxLoad("F2 Details",r)):n===4&&(r="/Document/F3TileDetails?q="+t,onAjaxLoad("F3 Details",r)))});$("#divFavouriteList").on("mousedown",".box",function(r){r.which===3&&(n=parseInt($(this).data("type")),i=parseInt($(this).data("id")),n===0?(u=$(this).data("fileid"),$(".cmenu-options").empty(),$(".cmenu-options").append('<li class="cmenu-option btnFileView" data-href="/Document/FileView?q='+$(this).data("encid")+'"><button class="btn btn-info waves-effect btn-sm" data-toggle="tooltip" title="View"><i class="fa fa-eye"><\/i><\/button> <span>View<\/span><\/li><li class="cmenu-option btnDownload" data-href="/Document/DownloadFile?fileId='+u+'"><button class="btn btn-primary waves-effect btn-sm" data-toggle="tooltip" title="Download"><i class="fa fa-download"><\/i><\/button> <span>Download<\/span><\/li><li class="cmenu-option btnUnFavFile" data-id="'+i+'"><button type="button" class="btn btn-danger waves-effect btn-sm" data-toggle="tooltip" title="Un-Favourite"><i class="fa fa-thumbs-down"><\/i><\/button> <span>Un-Favourite<\/span><\/li><li class="cmenu-option btnPropertiesFile" data-id="'+u+'"><button type="button" class="btn btn-info waves-effect btn-sm "  data-toggle="tooltip" title="Info">&nbsp;<i class="fa fa-info"><\/i>&nbsp;<\/button> <span>Properties<\/span><\/li>')):(t=$(this).data("folderid"),$(".cmenu-options").empty(),n===1?$(".cmenu-options").append('<li class="cmenu-option btnViewDetails" data-href="/Document/CabinetTileDetails?q='+t+'" data-type="1"><a class="btn btn-info waves-effect btn-sm" data-toggle="tooltip" title = "View details" > <i class="fa fa-eye"><\/i><\/a> <span>View<\/span><\/li > <li class="cmenu-option btnUnFavFolder" data-id="'+i+'"><button type="button" class="btn btn-danger waves-effect btn-sm" data-toggle="tooltip" title="Un-Favourite"><i class="fa fa-thumbs-down"><\/i><\/button> <span>Un-Favourite<\/span><\/li><li class="cmenu-option btnPropertiesFolder" data-id="'+t+'" data-type="1"><button type="button" class="btn btn-info waves-effect btn-sm "  data-toggle="tooltip" title="Info">&nbsp;<i class="fa fa-info"><\/i>&nbsp;<\/button> <span>Properties<\/span><\/li>'):n===2?$(".cmenu-options").append('<li class="cmenu-option btnViewDetails" data-href="/Document/F1TileDetails?q='+t+'" data-type="2"><a class="btn btn-info waves-effect btn-sm" data-toggle="tooltip" title = "View details" > <i class="fa fa-eye"><\/i><\/a> <span>View<\/span><\/li > <li class="cmenu-option btnUnFavFolder" data-id="'+i+'"><button type="button" class="btn btn-danger waves-effect btn-sm" data-toggle="tooltip" title="Un-Favourite"><i class="fa fa-thumbs-down"><\/i><\/button> <span>Un-Favourite<\/span><\/li><li class="cmenu-option btnPropertiesFolder" data-id="'+t+'" data-type="2"><button type="button" class="btn btn-info waves-effect btn-sm "  data-toggle="tooltip" title="Info">&nbsp;<i class="fa fa-info"><\/i>&nbsp;<\/button> <span>Properties<\/span><\/li>'):n===3?$(".cmenu-options").append('<li class="cmenu-option btnViewDetails" data-href="/Document/F2TileDetails?q='+t+'" data-type="3" ><a class="btn btn-info waves-effect btn-sm" data-toggle="tooltip" title = "View details" > <i class="fa fa-eye"><\/i><\/a> <span>View<\/span><\/li > <li class="cmenu-option btnUnFavFolder" data-id="'+i+'"><button type="button" class="btn btn-danger waves-effect btn-sm"  data-toggle="tooltip" title="Un-Favourite"><i class="fa fa-thumbs-down"><\/i><\/button> <span>Un-Favourite<\/span><\/li><li class="cmenu-option btnPropertiesFolder" data-id="'+t+'" data-type="3"><button type="button" class="btn btn-info waves-effect btn-sm "  data-toggle="tooltip" title="Info">&nbsp;<i class="fa fa-info"><\/i>&nbsp;<\/button> <span>Properties<\/span><\/li>'):n===4&&$(".cmenu-options").append('<li class="cmenu-option btnViewDetails" data-href="/Document/F3TileDetails?q='+t+'" data-type="4"><a class="btn btn-info waves-effect btn-sm" data-toggle="tooltip" title = "View details" > <i class="fa fa-eye"><\/i><\/a> <span>View<\/span><\/li > <li class="cmenu-option btnUnFavFolder" data-id="'+i+'"><button type="button" class="btn btn-danger waves-effect btn-sm"  data-toggle="tooltip" title="Un-Favourite"><i class="fa fa-thumbs-down"><\/i><\/button> <span>Un-Favourite<\/span><\/li><li class="cmenu-option btnPropertiesFolder" data-id="'+t+'" data-type="4"><button type="button" class="btn btn-info waves-effect btn-sm "  data-toggle="tooltip" title="Info">&nbsp;<i class="fa fa-info"><\/i>&nbsp;<\/button> <span>Properties<\/span><\/li>')),f=$("#div_lft_bar").is(":hidden")||$("#div_lft_bar").hasClass("in")?{left:r.clientX+5,top:r.clientY}:{left:r.clientX+5,top:r.clientY-45},$(".cmenu").css({top:f.top+"px",left:f.left+"px"}),$(".cmenu").show())});$(".cmenu").on("click",".btnViewDetails",function(){$("#liForFavourite").removeClass("active");var t=$(this).data("href");n=parseInt($(this).data("type"));n===1?onAjaxLoad("Cabinet Details",t):n===2?onAjaxLoad("F1 Details",t):n===3?onAjaxLoad("F2 Details",t):n===4&&onAjaxLoad("F3 Details",t)});$(".cmenu").on("click",".btnPropertiesFolder",function(){t=$(this).data("id");n=parseInt($(this).data("type"));$("#divFavouriteList").append('<div id="divPropertiesWin"><\/div>');$("#divPropertiesWin").empty().kendoWindow({actions:["Close"],draggable:!1,modal:!0,visible:!1,width:"35%",height:"40%",title:"Properties",close:onWindowClose,deactivate:function(){this.destroy()}});var i=$("#divPropertiesWin").data("kendoWindow");i.refresh("/Document/Properties?folderId="+t+"&type="+n);i.center().open();document.documentElement.style.overflow="hidden";document.body.scroll="no"});$(".cmenu").on("click",".btnFileView",function(){var n=$(this).data("href");window.open(n)});$(".cmenu").on("click",".btnDownload",function(){var n=$(this).data("href");window.location.href=n});$(".cmenu").on("click",".btnPropertiesFile",function(){u=$(this).data("id");$("#divFavouriteList").append('<div id="divPropertiesWin"><\/div>');$("#divPropertiesWin").empty().kendoWindow({actions:["Close"],draggable:!1,modal:!0,visible:!1,width:"35%",height:"40%",title:"Properties",close:onWindowClose,deactivate:function(){this.destroy()}});var n=$("#divPropertiesWin").data("kendoWindow");n.refresh("/Document/Properties?fileId="+u);n.center().open();document.documentElement.style.overflow="hidden";document.body.scroll="no"});$(".cmenu").on("click",".btnUnFavFolder",function(){i=parseInt($(this).data("id"));$.ajax({url:"/Document/FavouriteSave",type:"Post",data:{favId:i},success:function(n){n==="error"?notification.show({message:"Folder un-favourite was unsuccessful."},"error"):(notification.show({message:"Folder has been successfully delete from favourite."},"success"),$("#divFavouriteList").empty(),$("#divFavouriteList").append('<div class="loading_partial"><\/div>'),$("#divFavouriteList").load("/Document/FavouriteList"),favouriteList())},error:function(){notification.show({message:"Folder un-favourite was unsuccessful."},"error")}})});$(".cmenu").on("click",".btnUnFavFile",function(){i=parseInt($(this).data("id"));$.ajax({url:"/Document/FavouriteSave",type:"Post",data:{favId:i},success:function(n){n==="error"?notification.show({message:"File un-favourite was unsuccessful."},"error"):(notification.show({message:"File has been successfully delete from favourite."},"success"),$("#divFavouriteList").empty(),$("#divFavouriteList").append('<div class="loading_partial"><\/div>'),$("#divFavouriteList").load("/Document/FavouriteList"))},error:function(){notification.show({message:"File un-favourite was unsuccessful."},"error")}})})})();