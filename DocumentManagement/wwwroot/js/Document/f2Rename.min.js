(function(){var n=0,t;$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip();n=parseInt($("#f2Id").val());$("#divF2RenameForm").load("/Document/_F2Rename?id="+n)});$("#btnF2RenameRefresh").click(function(){$("#divF2RenameForm").empty();$("#divF2RenameForm").append('<div class="tiny_loading"><\/div>');$("#divF2RenameForm").load("/Document/_F2Rename?id="+n)});$("#btnF2RenameCancel").click(function(){$("#divRenameWin").data("kendoWindow").close()});t=$("#divF2RenameForm").kendoValidator({rules:{name:function(n){return n.is("[name=name]")&&$.trim(n.val())===""?!1:!0},IsNameExist:function(t){if(t.is("[name=name]")&&$.trim(t.val())!==""){var i,r={},u=$.trim($("#name").val());return r={id:n,cId:parseInt($("#Cid").val()),f1Id:parseInt($("#f1Id").val()),name:u},$.ajax({url:"/RemoteValidation/F2NameExist",mode:"abort",port:"validate"+t.attr("name"),dataType:"json",type:t.attr("data-val-remote-type"),data:r,async:!1,success:function(n){i=n;i=i===!0?!0:!1}}),i}return!0}},messages:{name:"Please enter folder name.",IsNameExist:"This folder name is already exist."}}).data("kendoValidator");$("#btnF2RenameOk").click(function(){t.validate()&&($(this).prop("disabled",!0),$.ajax({url:"/Document/F2RenameSave",type:"POST",data:{name:$.trim($("#name").val()),id:n},success:function(n){n==="error"?notification.show({message:"Folder rename was unsuccessful."},"error"):(notification.show({message:"Folder name has been successfully updated."},"success"),$("#divF1DocList").empty(),$("#divF1DocList").append('<div class="tiny_loading"><\/div>'),$("#divF1DocList").load("/Document/F1DocList?f1Id="+n.f1Id),loadCabinetTree());$("#divRenameWin").data("kendoWindow").close()},error:function(){notification.show({message:"Folder rename was unsuccessful."},"error");$("#divRenameWin").data("kendoWindow").close()}}))})})();