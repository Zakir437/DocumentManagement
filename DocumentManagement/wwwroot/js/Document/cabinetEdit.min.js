(function(){var t="",n=0,i;$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip();t=$("#cabinetId").val();$("#divCabinetList").load("/Document/_CabinetEdit?id="+t)});$("#btnCabinetRefresh").click(function(){t=$("#cabinetId").val();$("#divCabinetList").empty();$("#divCabinetList").append('<div class="tiny_loading"><\/div>');$("#divCabinetList").load("/Document/_CabinetEdit?id="+t)});$("#btnCabinetCancel").click(function(){$("#divEditWin").data("kendoWindow").close()});$("#divCabinetList").kendoValidator().data("kendoValidator");$("#divCabinetList").on("click",".btnEditF1",function(){$(this).hide();n=parseInt($(this).data("count"));$("#f1Name_"+n).prop("disabled",!1);$("#f1Name_"+n).focus();$("#btnUpdateF1_"+n).show()});$("#divCabinetList").on("click",".btnUpdateF1",function(){n=parseInt($(this).data("count"));t=$(this).data("id");i=$("#divF1_"+n).kendoValidator().data("kendoValidator");i.validate()&&($(this).prop("disabled",!0),$.ajax({url:"/Document/F1NameUpdate",type:"Post",data:{name:$.trim($("#f1Name_"+n).val()),id:t},success:function(t){t==="error"?(notification.show({message:"Update was unsuccessful."},"error"),$("#btnUpdateF1_"+n).prop("disabled",!1)):(notification.show({message:"Master folder name has been successfully updated."},"success"),$("#f1Name_"+n).prop("disabled",!0),$("#btnUpdateF1_"+n).hide(),$("#btnEditF1_"+n).show(),$("#btnUpdateF1_"+n).prop("disabled",!1),loadCabinetTree())},error:function(){notification.show({message:"Update was unsuccessful."},"error");$("#btnUpdateF1_"+n).prop("disabled",!1)}}))});$("#divCabinetList").on("click",".btnEditF2",function(){$(this).hide();n=parseInt($(this).data("count"));$("#f2Name_"+n).prop("disabled",!1);$("#f2Name_"+n).focus();$("#btnUpdateF2_"+n).show()});$("#divCabinetList").on("click",".btnUpdateF2",function(){n=parseInt($(this).data("count"));t=$(this).data("id");i=$("#divF2_"+n).kendoValidator().data("kendoValidator");i.validate()&&($(this).prop("disabled",!0),$.ajax({url:"/Document/F2NameUpdate",type:"Post",data:{name:$.trim($("#f2Name_"+n).val()),id:t},success:function(t){t==="error"?(notification.show({message:"Update was unsuccessful."},"error"),$("#btnUpdateF2_"+n).prop("disabled",!1)):(notification.show({message:"Folder name has been successfully updated."},"success"),$("#f2Name_"+n).prop("disabled",!0),$("#btnUpdateF2_"+n).hide(),$("#btnEditF2_"+n).show(),$("#btnUpdateF2_"+n).prop("disabled",!1),loadCabinetTree())},error:function(){notification.show({message:"Update was unsuccessful."},"error");$("#btnUpdateF2_"+n).prop("disabled",!1)}}))});$("#divCabinetList").on("click",".btnEditF3",function(){$(this).hide();n=parseInt($(this).data("count"));$("#f3Name_"+n).prop("disabled",!1);$("#f3Name_"+n).focus();$("#btnUpdateF3_"+n).show()});$("#divCabinetList").on("click",".btnUpdateF3",function(){n=parseInt($(this).data("count"));t=$(this).data("id");i=$("#divF3_"+n).kendoValidator().data("kendoValidator");i.validate()&&($(this).prop("disabled",!0),$.ajax({url:"/Document/F3NameUpdate",type:"Post",data:{name:$.trim($("#f3Name_"+n).val()),id:t},success:function(t){t==="error"?(notification.show({message:"Update was unsuccessful."},"error"),$("#btnUpdateF3_"+n).prop("disabled",!1)):(notification.show({message:"Sub folder name has been successfully updated."},"success"),$("#f3Name_"+n).prop("disabled",!0),$("#btnUpdateF3_"+n).hide(),$("#btnEditF3_"+n).show(),$("#btnUpdateF3_"+n).prop("disabled",!1),loadCabinetTree())},error:function(){notification.show({message:"Update was unsuccessful."},"error");$("#btnUpdateF3_"+n).prop("disabled",!1)}}))});$("#divCabinetList").on("click",".btnDeleteF1",function(){var n,i;t=$(this).data("id");n=$("<div />").kendoWindow({actions:["Close"],title:"Alert",resizable:!1,width:"30%",modal:!0,close:onWindowClose,deactivate:function(){this.destroy()}});msg="Are you sure want to delete this folder?";i=kendo.template($("#temp_win_Doc_delete_entry").html());n.data("kendoWindow").content(i).center().open();n.find("#btn_doc_delete_Entry_noty_cancel").click(function(){n.data("kendoWindow").close();document.documentElement.style.overflow="auto"}).end();n.find("#btn_doc_delete_Entry_noty_ok").click(function(){n.data("kendoWindow").close();document.documentElement.style.overflow="auto";$.ajax({url:"/Document/DocumentDelete",type:"Post",data:{pId:t,type:2,isPermanent:n.find("#IsPermanent").is(":checked")},success:function(n){n==="error"?notification.show({message:"Delete was unsuccessful."},"error"):(notification.show({message:"Folder has been successfully deleted."},"success"),$("#divCabinetList").empty(),$("#divCabinetList").append('<div class="tiny_loading"><\/div>'),$("#divCabinetList").load("/Document/_CabinetEdit?id="+$("#cabinetId").val()),loadCabinetTree())},error:function(){notification.show({message:"Delete was unsuccessful."},"error")}})}).end();document.documentElement.style.overflow="hidden"});$("#divCabinetList").on("click",".btnDeleteF2",function(){var n,i;t=$(this).data("id");n=$("<div />").kendoWindow({actions:["Close"],title:"Alert",resizable:!1,width:"30%",modal:!0,close:onWindowClose,deactivate:function(){this.destroy()}});msg="Are you sure want to delete this folder?";i=kendo.template($("#temp_win_Doc_delete_entry").html());n.data("kendoWindow").content(i).center().open();n.find("#btn_doc_delete_Entry_noty_cancel").click(function(){n.data("kendoWindow").close();document.documentElement.style.overflow="auto"}).end();n.find("#btn_doc_delete_Entry_noty_ok").click(function(){n.data("kendoWindow").close();document.documentElement.style.overflow="auto";$.ajax({url:"/Document/DocumentDelete",type:"Post",data:{pId:t,type:3,isPermanent:n.find("#IsPermanent").is(":checked")},success:function(n){n==="error"?notification.show({message:"Delete was unsuccessful."},"error"):(notification.show({message:"Folder has been successfully deleted."},"success"),$("#divCabinetList").empty(),$("#divCabinetList").append('<div class="tiny_loading"><\/div>'),$("#divCabinetList").load("/Document/_CabinetEdit?id="+$("#cabinetId").val()),loadCabinetTree())},error:function(){notification.show({message:"Delete was unsuccessful."},"error")}})}).end();document.documentElement.style.overflow="hidden"});$("#divCabinetList").on("click",".btnDeleteF3",function(){var n,i;t=$(this).data("id");n=$("<div />").kendoWindow({actions:["Close"],title:"Alert",resizable:!1,width:"30%",modal:!0,close:onWindowClose,deactivate:function(){this.destroy()}});msg="Are you sure want to delete this folder?";i=kendo.template($("#temp_win_Doc_delete_entry").html());n.data("kendoWindow").content(i).center().open();n.find("#btn_doc_delete_Entry_noty_cancel").click(function(){n.data("kendoWindow").close();document.documentElement.style.overflow="auto"}).end();n.find("#btn_doc_delete_Entry_noty_ok").click(function(){n.data("kendoWindow").close();document.documentElement.style.overflow="auto";$.ajax({url:"/Document/DocumentDelete",type:"Post",data:{pId:t,type:4,isPermanent:n.find("#IsPermanent").is(":checked")},success:function(n){n==="error"?notification.show({message:"Delete was unsuccessful."},"error"):(notification.show({message:"Folder has been successfully deleted."},"success"),$("#divCabinetList").empty(),$("#divCabinetList").append('<div class="tiny_loading"><\/div>'),$("#divCabinetList").load("/Document/_CabinetEdit?id="+$("#cabinetId").val()),loadCabinetTree())},error:function(){notification.show({message:"Delete was unsuccessful."},"error")}})}).end();document.documentElement.style.overflow="hidden"})})();