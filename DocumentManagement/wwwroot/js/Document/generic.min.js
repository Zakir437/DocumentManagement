(function(){var i="",n=null,t=null;$(document).ready(function(){function u(r){var u,f;if(r.field==="createdDate"){u=r.container;u.empty();u.html("<div id='divDateFilter'><input title = 'start date' placeholder = 'start' name = 'start-date' validationMessage = '*' id = 'start-date' class= 'start-date' /><span class='k-widget k-invalid-msg' data-for='start-date'><\/span><input title='end date' placeholder='end' validationMessage='*' name='end-date' id='end-date' class='end-date' /><span class='k-widget k-invalid-msg' data-for='end-date'><\/span><button type='button' id='btnDateFilter' class='k-button k-primary'>Filter<\/button><button type='reset' class='k-button'>Clear<\/button><\/div>");f=$("#divDateFilter").kendoValidator({rules:{datepicker:function(n){return n.is("[data-role=datepicker]")?n.data("kendoDatePicker").value():!0}},messages:{datepicker:"Please enter valid date!"}}).data("kendoValidator");$("#btnDateFilter").click(function(){f.validate()&&(i!==""&&(i="",$("#FileMultiselect").data("kendoMultiSelect").value(null)),$(this).submit())});$(".start-date",u).kendoDatePicker({format:"MMM dd,yyyy",change:function(){var t=$("#end-date").data("kendoDatePicker");n=this.value();n&&(n=new Date(n),t.min(n),n=n.toISOString())}});$(".end-date",u).kendoDatePicker({format:"MMM dd,yyyy",change:function(){var n=$("#start-date").data("kendoDatePicker");t=this.value();t&&(t=new Date(t),n.max(t),t=t.toISOString())}});u.on("click","[type='reset']",function(){n=null;t=null;i="";$("#FileMultiselect").data("kendoMultiSelect").value(null)})}}function f(n){var i=$("#FileMultiselect").data("kendoMultiSelect"),t=i.input.val();(t==="Search by name..."||t===null)&&n.preventDefault()}function e(){i="";this.value()!==""&&(i=this.value());r.data("kendoGrid").dataSource.query({skip:0,take:r.data("kendoGrid").dataSource.pageSize()})}$('[data-toggle="tooltip"]').tooltip();$("#liForCabinet").addClass("active");$("#liForCabinet .arrow").addClass("open");$("#liForGenericFiles").addClass("active");var r=$("#divGenericGrid").kendoGrid({dataSource:new kendo.data.DataSource({pageSize:20,serverFiltering:!0,serverPaging:!0,transport:{read:function(r){$.ajax({url:"/Document/GetGenericFiles",dataType:"json",type:"POST",data:$.extend(r.data,{selectedId:i.toString(),startDate:n,endDate:t}),success:function(n){r.success(n)}})}},schema:{data:"data",total:"total"}}),toolbar:kendo.template($("#GridHeadertemplate").html()),filterMenuInit:u,filterable:!1,pageable:{refresh:!0,pageSizes:[5,10,15,20]},columns:[{field:"originalName",title:"Name",filterable:!1,width:200},{field:"createdBy",title:"Created By",width:175,filterable:!1},{field:"createdDate",title:"Created Date",width:175,template:"#= kendo.toString(kendo.parseDate(createdDate), 'MMM dd,yy hh:mm:ss tt') #"},{field:"updatedBy",title:"Updated By",width:175,filterable:!1},{field:"updatedDate",title:"Updated Date",width:175,template:"#= kendo.toString(kendo.parseDate(updatedDate), 'MMM dd,yy hh:mm:ss tt') #"},{title:"Actions",width:300,template:kendo.template($("#btnTemplate").html())}]});$(".k-grid-content table").addClass("table table-hover table-striped");$("#FileMultiselect").kendoMultiSelect({placeholder:"Search by name...",dataTextField:"text",dataValueField:"value",minLength:"2",dataSource:new kendo.data.DataSource({serverFiltering:!0,transport:{read:{url:"/Document/GetGenericList",type:"GET",data:function(){var r=$("#FileMultiselect").data("kendoMultiSelect"),i=r.input.val();return i==="Search by name..."&&(i=""),{text:i,startDate:n,endDate:t}}}}}),change:e,filtering:f})})})();