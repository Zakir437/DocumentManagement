(function(){var n="",t;$(document).ready(function(){n=$("#btnUserUpdate").data("id");$("#divUserEditForm").load("/HR/_UserEdit?id="+n)});$("#btnUserRefresh").click(function(){$("#divUserEditForm").empty();$("#divUserEditForm").append('<div class="tiny_loading"><\/div>');$("#divUserEditForm").load("/HR/_UserEdit?id="+n)});$("#btnUserCancel").click(function(){$(this).closest(".k-window-content").data("kendoWindow").close()});t=$("#divUserEditForm").kendoValidator({rules:{name:function(n){return n.is("[name=name]")&&$.trim(n.val())===""?!1:!0}},messages:{name:"Please enter user name."}}).data("kendoValidator");$("#btnUserUpdate").click(function(){t.validate()&&($(this).prop("disabled",!0),$.ajax({url:"/HR/UserUpdate",type:"Post",data:{EncryptedId:n,Name:$.trim($("#name").val())},success:function(t){$("#btnUserCancel").closest(".k-window-content").data("kendoWindow").close();t==="error"?notification.show({message:"User update was unsuccessful."},"error"):(notification.show({message:"User has been successfully updated."},"success"),onAjaxLoad("User Details","/HR/UserDetails?q="+n+"&isEdit=true"))},error:function(){notification.show({message:"User update was unsuccessful."},"error")}}))})})();