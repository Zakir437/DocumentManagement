(function(){var n=$("#btnRoleUpdate").data("id"),t;$(document).ready(function(){$("#divRoleEditForm").load("/Configuration/RoleEditPartial?id="+n)});$("#btnRoleRefresh").click(function(){$("#divRoleEditForm").empty();$("#divRoleEditForm").append('<div class="tiny_loading"><\/div>');$("#divRoleEditForm").load("/Configuration/RoleEditPartial?id="+n)});$("#btnRoleCancel").click(function(){$(this).closest(".k-window-content").data("kendoWindow").close()});t=$("#divRoleEditForm").kendoValidator({rules:{name:function(n){return n.is("[name=name]")&&$.trim(n.val())===""?!1:!0},IsRoleNameExist:function(t){if(t.is("[name=name]")&&$.trim(t.val())!==""){var i,r={},u=$.trim($("#name").val());return r={name:u,id:n},$.ajax({url:"/RemoteValidation/RoleNameExist",mode:"abort",port:"validate"+t.attr("name"),dataType:"json",type:t.attr("data-val-remote-type"),data:r,async:!1,success:function(n){i=n;i=i===!0?!0:!1}}),i}return!0}},messages:{name:"Please enter role name.",IsRoleNameExist:"This role name is already exist."}}).data("kendoValidator");$("#btnRoleUpdate").click(function(){t.validate()&&($(this).prop("disabled",!0),$.ajax({url:"/Configuration/RoleSave",type:"Post",data:{name:$.trim($("#name").val()),id:n},success:function(n){$("#divRoleEditWin").data("kendoWindow").close();n==="error"?notification.show({message:"Role update was unsuccessful."},"error"):(notification.show({message:"Role has been successfully updated."},"success"),$("#divRoleGrid").data("kendoGrid").dataSource.read())},error:function(){notification.show({message:"Role update was unsuccessful."},"error");$("#btnRoleUpdate").prop("disabled",!1)}}))})})();