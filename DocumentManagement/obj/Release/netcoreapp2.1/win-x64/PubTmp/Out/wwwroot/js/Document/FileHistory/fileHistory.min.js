(function(){var n=null,t=null;$(document).ready(function(){function i(i){var r,u;if(i.field==="createdDate"){r=i.container;r.empty();r.html("<div id='divDateFilter'><input title = 'start date' placeholder = 'start' name = 'start-date' validationMessage = '*' id = 'start-date' class= 'start-date' /><span class='k-widget k-invalid-msg' data-for='start-date'><\/span><input title='end date' placeholder='end' validationMessage='*' name='end-date' id='end-date' class='end-date' /><span class='k-widget k-invalid-msg' data-for='end-date'><\/span><button type='button' id='btnDateFilter' class='k-button k-primary'>Filter<\/button><button type='reset' class='k-button'>Clear<\/button><\/div>");u=$("#divDateFilter").kendoValidator({rules:{datepicker:function(n){return n.is("[data-role=datepicker]")?n.data("kendoDatePicker").value():!0}},messages:{datepicker:"Please enter valid date!"}}).data("kendoValidator");$("#btnDateFilter").click(function(){u.validate()&&$(this).submit()});$(".start-date",r).kendoDatePicker({format:"MMM dd,yyyy",change:function(){var t=$("#end-date").data("kendoDatePicker");n=this.value();n&&(n=new Date(n),t.min(n),n=n.toISOString())}});$(".end-date",r).kendoDatePicker({format:"MMM dd,yyyy",change:function(){var n=$("#start-date").data("kendoDatePicker");t=this.value();t&&(t=new Date(t),n.max(t),t=t.toISOString())}});r.on("click","[type='reset']",function(){n=null;t=null})}}$("#liForSettings").addClass("active");$("#liForSettings .arrow").addClass("open");$("#liForFileHistory").addClass("active");$("#liForFileHistory .arrow").addClass("open");var r=$("#divFileHistoryGrid").kendoGrid({dataSource:new kendo.data.DataSource({pageSize:20,serverFiltering:!0,serverPaging:!0,transport:{read:function(i){$.ajax({url:"/Document/GetFileHistory",dataType:"json",type:"POST",data:$.extend(i.data,{startDate:n,endDate:t}),success:function(n){i.success(n)}})}},schema:{data:"data",total:"total"}}),filterMenuInit:i,filterable:!0,pageable:{refresh:!0,pageSizes:[5,10,15,20]},dataBound:function(){var n=this;this.tbody.find("tr").each(function(){var t=n.dataItem(this);t.status==="Error"?$(this).find("td:eq(2)").wrapInner('<span class="status-label status-red shadow-style"><\/span>'):$(this).find("td:eq(2)").wrapInner('<span class="status-label status-green shadow-style"><\/span>')})},columns:[{field:"fileName",title:"Name",filterable:!1,width:150},{field:"operation",title:"Operation",width:100,filterable:!1},{field:"status",title:"Status",width:100,filterable:!1},{field:"message",title:"Message",width:300,filterable:!1},{field:"createdBy",title:"Created By",width:175,filterable:!1},{field:"createdDate",title:"Date",width:175,template:"#= kendo.toString(kendo.parseDate(createdDate), 'MMM dd,yy hh:mm:ss tt') #"}]});$(".k-grid-content table").addClass("table table-hover table-striped");$(".k-grid-content").addClass("k-grid-content-h1")})})();