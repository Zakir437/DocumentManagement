(function(){var t="",n="";$(document).ready(function(){function i(n){var i=$("#UserMultiSelect").data("kendoMultiSelect"),t=i.input.val();(t==="Search by username/email..."||t===null)&&n.preventDefault()}function r(){t="";this.value()!==""&&(t=this.value());n.data("kendoGrid").dataSource.query({skip:0,take:n.data("kendoGrid").dataSource.pageSize()})}$('[data-toggle="tooltip"]').tooltip();var n=$("#hrGrid").kendoGrid({dataSource:new kendo.data.DataSource({pageSize:20,serverFiltering:!0,serverPaging:!0,transport:{read:function(n){$.ajax({url:"/HR/GetUser",dataType:"json",type:"POST",data:$.extend(n.data,{selectedId:t.toString()}),success:function(t){n.success(t)}})}},schema:{data:"data",total:"total"}}),toolbar:kendo.template($("#GridHeadertemplate").html()),pageable:{refresh:!0,pageSizes:[5,10,15,20]},dataBound:function(){var n=this;this.tbody.find("tr").each(function(){var t=n.dataItem(this);t.status==="Deleted"?($(this).addClass("disabled"),$(this).find("td:eq(2)").wrapInner('<span class="status-label status-red shadow-style"><\/span>')):$(this).find("td:eq(2)").wrapInner('<span class="status-label status-green shadow-style"><\/span>')})},columns:[{title:"Name",width:200,template:kendo.template($("#imgTemplate").html())},{field:"userName",title:"Username/Email",width:140},{field:"status",title:"Status",width:180},{field:"createdDate",title:"Date",width:175,template:"#= kendo.toString(kendo.parseDate(createdDate), 'MMM dd,yy hh:mm:ss tt') #"},{title:"Action",width:300,template:kendo.template($("#btnTemplate").html())}]});$(".k-grid-content").addClass("h-1");$(".k-grid-content table").addClass("table table-hover table-striped");$("#UserMultiSelect").kendoMultiSelect({placeholder:"Search by username/email...",dataTextField:"text",dataValueField:"value",minLength:"2",dataSource:new kendo.data.DataSource({serverFiltering:!0,transport:{read:{url:"/HR/GetUserForMulti",type:"GET",data:function(){var t=$("#UserMultiSelect").data("kendoMultiSelect"),n=t.input.val();return n==="Search by username/email..."&&(n=""),{text:n}}}}}),change:r,filtering:i})});$("#hrGrid").on("click",".btnEdit",function(){n=$(this).data("id");$("#divUserEditWin").empty();$("#divUserEditWin").kendoWindow({actions:["Close"],draggable:!1,modal:!0,visible:!1,width:"25%",height:"20%",title:"Edit",close:onWindowClose});var t=$("#divUserEditWin").data("kendoWindow");t.refresh("/HR/UserEdit?id="+n);t.center().open();document.documentElement.style.overflow="hidden";document.body.scroll="no"});$("#hrGrid").on("click",".btnDelete",function(){var t,i;n=$(this).data("id");t=$("<div />").kendoWindow({actions:["Close"],title:"Alert",resizable:!1,width:"30%",modal:!0});msg="Are you sure want to delete this user?";i=kendo.template($("#temp_win_delete_entry").html());t.data("kendoWindow").content(i).center().open();t.find("#btn_delete_Entry_noty_cancel").click(function(){t.data("kendoWindow").close();document.documentElement.style.overflow="auto"}).end();t.find("#btn_delete_Entry_noty_ok").click(function(){t.data("kendoWindow").close();document.documentElement.style.overflow="auto";$.ajax({url:"/HR/UserStatusChange",type:"Post",data:{id:n},success:function(n){n==="success"?(notification.show({message:"User has been successfully deleted."},"success"),$("#hrGrid").data("kendoGrid").dataSource.read()):notification.show({message:"User delete was unsuccessful."},"error")}})}).end();document.documentElement.style.overflow="hidden"});$("#hrGrid").on("click",".btnViewDetails",function(n){n.preventDefault();var t=$(this).attr("href");onAjaxLoad("User Details",t)});$("#hrGrid").on("click","#btnCreateUser",function(n){n.preventDefault();var t=$(this).attr("href");onAjaxLoad("Create User",t)});$("#hrGrid").on("click","#btnRoleList",function(n){n.preventDefault();var t=$(this).attr("href");onAjaxLoad("Role List",t)})})();