(function(){var n=0,t="";$(document).ready(function(){var i=$("#divRoleGrid").kendoGrid({dataSource:new kendo.data.DataSource({pageSize:20,serverPaging:!0,transport:{read:function(n){$.ajax({url:"/Configuration/GetRoleList",dataType:"json",type:"POST",data:$.extend(n.data,{selectedId:t.toString()}),success:function(t){n.success(t)}})}},schema:{data:"data",total:"total"}}),toolbar:kendo.template($("#GridHeadertemplate").html()),pageable:{refresh:!0,pageSizes:[5,10,15,20]},columns:[{field:"roleName",title:"Name",width:200},{field:"createdBy",title:"Created By",width:140},{field:"createdDate",title:"Created Date",width:175,template:"#= kendo.toString(kendo.parseDate(createdDate), 'MMM dd,yy hh:mm:ss tt') #"},{width:110,template:'<button type="button" class="btn btn-primary waves-effect btnEdit" data-id="#= id #" data-toggle="tooltip" title="Edit"><i class="fa fa-edit"><\/i><\/button><button type="button" class= "btn btn-danger waves-effect btnDelete" data-id="#= id #" data-toggle="tooltip" title="Delete" > <i class="fa fa-trash"><\/i><\/button>'}]});$(".k-grid-content").addClass("h-1");$(".k-grid-content table").addClass("table table-hover table-striped");$("#roleMultiselect").kendoMultiSelect({placeholder:"Search by name...",dataTextField:"text",dataValueField:"value",minLength:"2",dataSource:new kendo.data.DataSource({serverFiltering:!0,transport:{read:{url:"/Configuration/GetRole",type:"GET",data:function(){var t=$("#roleMultiselect").data("kendoMultiSelect"),n=t.input.val();return n==="Search by name..."&&(n=""),{text:n}}}}}),change:function(){t="";t=this.value();i.data("kendoGrid").dataSource.query({skip:0,take:i.data("kendoGrid").dataSource.pageSize()})},filtering:function(n){var i=$("#roleMultiselect").data("kendoMultiSelect"),t=i.input.val();(t==="Search by name..."||t===null)&&n.preventDefault()}});$("#divRoleGrid").on("click",".btnDelete",function(){var t,r;n=$(this).data("id");t=$("<div />").kendoWindow({actions:["Close"],title:"Alert",resizable:!1,width:"30%",modal:!0});msg="Are you sure want to delete this role?";r=kendo.template($("#temp_win_delete_entry").html());t.data("kendoWindow").content(r).center().open();t.find("#btn_delete_Entry_noty_cancel").click(function(){t.data("kendoWindow").close();document.documentElement.style.overflow="auto"}).end();t.find("#btn_delete_Entry_noty_ok").click(function(){t.data("kendoWindow").close();document.documentElement.style.overflow="auto";$.ajax({url:"/Configuration/RoleStatusChange",type:"Post",data:{id:n},success:function(n){n==="success"?(notification.show({message:"Role has been successfully deleted."},"success"),i.data("kendoGrid").dataSource.read()):notification.show({message:"Role delete was unsuccessful."},"error")}})}).end();document.documentElement.style.overflow="hidden"});$("#divRoleGrid").on("click",".btnEdit",function(){n=$(this).data("id");$("#divRoleEditWin").empty();$("#divRoleEditWin").kendoWindow({actions:["Close"],draggable:!1,modal:!0,visible:!1,width:"30%",height:"35%",title:"Edit",resizable:!1,close:onWindowClose});var t=$("#divRoleEditWin").data("kendoWindow");t.refresh("/Configuration/RoleEdit?id="+n);t.center().open();document.documentElement.style.overflow="hidden";document.body.scroll="no"})});$("#divRoleGrid").on("click","#btnCreateRole",function(n){n.preventDefault();var t=$(this).attr("href");onAjaxLoad("Role Create",t)})})();