(function(){var n=0,t;$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip();n=parseInt($("#f1Id").val());$("#divF1RenameForm").load("/Document/_F1Rename?id="+n)});$("#btnF1RenameRefresh").click(function(){$("#divF1RenameForm").empty();$("#divF1RenameForm").append('<div class="tiny_loading"><\/div>');$("#divF1RenameForm").load("/Document/_F1Rename?id="+n)});$("#btnF1RenameCancel").click(function(){$("#divRenameWin").data("kendoWindow").close()});t=$("#divF1RenameForm").kendoValidator({rules:{name:function(n){return n.is("[name=name]")&&$.trim(n.val())===""?!1:!0},IsNameExist:function(t){if(t.is("[name=name]")&&$.trim(t.val())!==""){var i,r={},u=$.trim($("#name").val());return r={id:n,cId:parseInt($("#Cid").val()),name:u},$.ajax({url:"/RemoteValidation/F1NameExist",mode:"abort",port:"validate"+t.attr("name"),dataType:"json",type:t.attr("data-val-remote-type"),data:r,async:!1,success:function(n){i=n;i=i===!0?!0:!1}}),i}return!0}},messages:{name:"Please enter folder name.",IsNameExist:"This folder name is already exist."}}).data("kendoValidator");$("#btnF1RenameOk").click(function(){t.validate()&&($(this).prop("disabled",!0),$.ajax({url:"/Document/F1RenameSave",type:"POST",data:{name:$.trim($("#name").val()),id:n},success:function(n){n==="error"?notification.show({message:"Folder rename was unsuccessful."},"error"):(notification.show({message:"Folder name has been successfully updated."},"success"),$("#divCabinetDocList").empty(),$("#divCabinetDocList").append('<div class="tiny_loading"><\/div>'),$("#divCabinetDocList").load("/Document/CabinetDocList?cabinetId="+n.cabinetId),loadCabinetTree());$("#divRenameWin").data("kendoWindow").close()},error:function(){notification.show({message:"Folder rename was unsuccessful."},"error");$("#divRenameWin").data("kendoWindow").close()}}))})})();