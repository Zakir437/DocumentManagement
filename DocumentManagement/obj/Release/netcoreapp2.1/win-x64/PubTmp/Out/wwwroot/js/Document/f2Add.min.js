(function(){var n=0,i=0,t="",r;$(document).ready(function(){t=$("#F2Id").val();$('[data-toggle="tooltip"]').tooltip();$("#liForCabinetTree").addClass("active");$("#btnCabinetTreeMenu.arrow").addClass("open");$("#liForCabinetTree").find("ul:eq(0)").toggle(!0,"slow");c_CountId=$("#C_countId").val();f1_CountId=$("#F1_CountId").val();f2_CountId=$("#F2_CountId").val();selectedType=3;$("#liForCabinet_"+c_CountId).addClass("active");$("#c_arrow_"+c_CountId).addClass("open");$("#liForCabinet_"+c_CountId).find("ul:eq(0)").toggle(!0,"slow");$("#liForF1_"+f1_CountId).addClass("active");$("#f1_arrow_"+f1_CountId).addClass("open");$("#liForF1_"+f1_CountId).find("ul:eq(0)").toggle(!0,"slow");$("#liForF2_"+f2_CountId).addClass("active")});r=$("#divForm").kendoValidator({}).data("kendoValidator");$("#btnAdd").click(function(){r.validate()&&(n===0&&$("#divFolder").empty(),n++,$("#divFolder").append('<div class="row form-group f3" data-count="'+n+'" id="divF3_'+n+'"><div class="col-xs-8"><input type="text" pattern="^(?!\\s*$).?[\\w\\W]{1,}" id="f3Name_'+n+'" data-count='+n+' name="f3Name_'+n+'" required data-required-msg="*" validationMessage="*" placeholder="Sub Folder Name" class="form-control" /><span class="k-widget k-invalid-msg" data-for="f3Name_'+n+'"><\/span><\/div><div class="col-xs-4">'+(n===1?"":'<button type="button" class="btn btn-primary waves-effect margin-t-r btnCancelF3" data-count="'+n+'" data-toggle="tooltip" title="Cancel"><i class="fa fa-times"><\/i><\/button>')+"<\/div><\/div>"))});$("#divFolder").on("click",".btnCancelF3",function(){i=parseInt($(this).data("count"));$("#divF3_"+i).remove()});$("#btnSave").click(function(){if(n===0)return notification.show({message:"Please add folder."},"error"),!1;if(r.validate()){$(this).prop("disabled",!0);var u=[],f="";$(".f3").each(function(){i=parseInt($(this).data("count"));f=$.trim($("#f3Name_"+i).val());u.push({Name:f})});$.ajax({url:"/Document/SubFolderSave",type:"POST",data:{F2Id:t,F3Folder:u},success:function(n){n==="success"?(notification.show({message:"Sub Folder has been successfully Created."},"success"),onAjaxLoad("F2 Details","/Document/F2TileDetails?q="+t),loadCabinetTree()):(notification.show({message:"Sub Folder create was unsuccessful."},"error"),$("#btnSave").prop("disabled",!1))},error:function(){notification.show({message:"Sub Folder create was unsuccessful."},"error");$("#btnSave").prop("disabled",!1)}})}});$("#btnRefresh").click(function(){onAjaxLoad("F2 Add","/Document/F2Add?q="+t)});$("#btnCancel").click(function(){onAjaxLoad("F2 Details","/Document/F2TileDetails?q="+t)})})();