(function(){var n="",t;$(document).ready(function(){n=$("#btnInfoUpdate").data("id");$("#divInfoEditForm").load("/HR/_UserInfoEdit?id="+n)});$("#btnInfoRefresh").click(function(){$("#divInfoEditForm").empty();$("#divInfoEditForm").append('<div class="tiny_loading"><\/div>');$("#divInfoEditForm").load("/HR/_UserInfoEdit?id="+n)});$("#btnInfoCancel").click(function(){$(this).closest(".k-window-content").data("kendoWindow").close()});t=$("#divInfoEditForm").kendoValidator({rules:{datepicker:function(n){return n.is("[data-role=datepicker]")&&n.val()!==""?n.data("kendoDatePicker").value():!0}},messages:{datepicker:"Please enter valid date!"}}).data("kendoValidator");$("#btnInfoUpdate").click(function(){t.validate()&&($(this).prop("disabled",!0),$.ajax({url:"/HR/UserUpdate",type:"Post",data:{EncryptedId:n,MobileNumber:$.trim($("#MobileNumber").val()),DOB:$("#DOB").val(),RoleId:$("#Role").val(),isInfoUpdate:!0},success:function(t){$("#btnInfoCancel").closest(".k-window-content").data("kendoWindow").close();t==="error"?notification.show({message:"User update was unsuccessful."},"error"):(notification.show({message:"User has been successfully updated."},"success"),onAjaxLoad("User Details","/HR/UserDetails?q="+n+"&isEdit=true"))},error:function(){notification.show({message:"User update was unsuccessful."},"error")}}))})})();