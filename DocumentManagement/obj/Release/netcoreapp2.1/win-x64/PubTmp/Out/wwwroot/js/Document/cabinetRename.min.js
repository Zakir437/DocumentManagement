(function(){var n=0,t;$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip();n=parseInt($("#cId").val());$("#divCabinetForm").load("/Document/_CabinetRename?id="+n)});$("#btnCabinetRenameRefresh").click(function(){$("#divCabinetForm").empty();$("#divCabinetForm").append('<div class="tiny_loading"><\/div>');$("#divCabinetForm").load("/Document/_CabinetRename?id="+n)});$("#btnCabinetRenameCancel").click(function(){$("#divRenameWin").data("kendoWindow").close()});t=$("#divCabinetForm").kendoValidator({rules:{name:function(n){return n.is("[name=name]")&&$.trim(n.val())===""?!1:!0},IsNameExist:function(t){if(t.is("[name=name]")&&$.trim(t.val())!==""){var i,r={},u=$.trim($("#name").val());return r={id:n,name:u},$.ajax({url:"/RemoteValidation/CabinetNameExist",mode:"abort",port:"validate"+t.attr("name"),dataType:"json",type:t.attr("data-val-remote-type"),data:r,async:!1,success:function(n){i=n;i=i===!0?!0:!1}}),i}return!0}},messages:{name:"Please enter cabinet name.",IsNameExist:"This cabinet name is already exist."}}).data("kendoValidator");$("#btnCabinetRenameOk").click(function(){t.validate()&&($(this).prop("disabled",!0),$.ajax({url:"/Document/CabinetNameUpdate",type:"POST",data:{name:$.trim($("#name").val()),id:n},success:function(n){n==="success"?(notification.show({message:"Cabinet name has been successfully updated."},"success"),$("#divCabinetFolderList").empty(),$("#divCabinetFolderList").append('<div class="tiny_loading"><\/div>'),$("#divCabinetFolderList").load("/Document/CabinetList"),loadCabinetTree()):notification.show({message:"Cabinet rename was unsuccessful."},"error");$("#btnCabinetRenameCancel").closest(".k-window-content").data("kendoWindow").close()},error:function(){notification.show({message:"Cabinet rename was unsuccessful."},"error");$("#btnCabinetRenameCancel").closest(".k-window-content").data("kendoWindow").close()}}))})})();